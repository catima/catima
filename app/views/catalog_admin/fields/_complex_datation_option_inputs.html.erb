<hr>
<div>
  <%= f.form_group do %>
    <%= f.check_box(:allow_bc, label: t(".allow_bc")) %>
    <%= f.label :allowed_formats, t(".allowed_formats") %>

    <div data-controller="toggle-display">
      <%= f.check_box :allowed_formats, {label: t(".#{Field::ComplexDatation::ALLOWED_FORMATS.first}"), multiple: true, "data-action": "click->toggle-display#reveal", "data-toggle-display-target": 'source'}, Field::ComplexDatation::ALLOWED_FORMATS.first, nil %>
      <div class="ml-4" data-toggle-display-target="revealable">
        <%= f.collection_select(:format, Field::ComplexDatation::FORMATS, :to_s, :to_s, label: t(".format")) %>
      </div>
    </div>

    <div data-controller="toggle-display">
      <%= f.check_box :allowed_formats, {label: t(".#{Field::ComplexDatation::ALLOWED_FORMATS.second}"), multiple: true, "data-action": "click->toggle-display#reveal", "data-toggle-display-target": 'source'}, Field::ComplexDatation::ALLOWED_FORMATS.second, nil %>
      <div class="ml-4" data-toggle-display-target="revealable">
        <%= select2_select(
              f,
              :choice_set_ids,
              f.object.catalog.choice_sets.datation.not_deactivated.not_deleted.map { |c| [c.name, c.id] },
              {multiple: true, label: {text: t(".choice_set_ids")}}
            ) %>
      </div>
    </div>
  <% end %>
</div>
