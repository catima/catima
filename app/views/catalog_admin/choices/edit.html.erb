<% provide(:title, t(".edit_choice")) %>

<% provide(:actions) do %>
  <% if @choice.persisted? %>
    <span class="badge text-bg-secondary ms-1">
      #<%= @choice.id %>
    </span>
  <% end %>
<% end %>

<div class="card-body ">
  <%= bootstrap_form_for(
        @choice,
        :url => catalog_admin_choice_set_choice_path) do |f| %>
    <div class="mb-4">
      <%= select2_select(f, :parent_id, @choice_set.flat_ordered_choices.filter { |choice| choice.id != @choice.id }.map { |choice| [@choice_set.choice_prefixed_label(choice), choice.id] }, include_blank: ' ') %>
    </div>
    <%= render("catalog_admin/choices/choice_fields", :f => f) %>

    <hr>
    <%= f.primary(t(".update_choice")) %>
    <%= link_to(
          t("cancel"),
          edit_catalog_admin_choice_set_path(
            @choice_set.catalog,
            I18n.locale,
            @choice_set),
          :class => "btn btn-link") %>
  <% end %>
</div>
