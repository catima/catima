# Crontab for catima user (supercronic format)
# Format: minute hour day month dayofweek command

# Set the working directory and environment
SHELL=/bin/bash
PATH=/usr/local/bundle/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin

# Remove expired exports every Sunday at 05:13
13 5 * * 0 cd /var/www/catima && bundle exec rake export:remove_expired

# Remove expired stats daily at 01:00
0 1 * * * cd /var/www/catima && bundle exec rake stats:remove_expired

# Remove expired logs daily at 01:30
30 1 * * * cd /var/www/catima && bundle exec rake logs:remove_expired

# Rotate application logs daily at 02:00
0 2 * * * /usr/sbin/logrotate /etc/logrotate.d/catima --state /var/www/catima/tmp/logrotate.state
